---
slug: dev-log3
title: 开发日志3
authors: bing
tags: [dev, webgis]
---

## 已完成的任务

1. 拓展了图层管理器，可以切换不同的功能面板
2. 实现快捷添加矢量图层
3. 实现切换底图

[点击进入 demo](https://web-gis-rho.vercel.app/test)

<details>
    <summary>功能演示</summary>

### 切换功能面板

在图层管理器最左边的四个按钮可以点击了，点击就切换到对应的面板

![xxx](../static/gif/PixPin_2024-11-11_23-14-48.gif)

### 添加快捷图层

目前我收集了中国的省级和市级的行政区划矢量图层，后续会搜集更多的矢量数据。有两个过滤器可供使用。如下图所示，第一个过滤`name`字段（文本过滤器），第二个过滤`level`字段（唯一值过滤器）。

![xxx](../static/gif/PixPin_2024-11-11_23-23-31.gif)

点击添加按钮即可添加该图层

![xxx](../static/gif/PixPin_2024-11-11_23-27-52.gif)

### 切换底图

切换底图目前有两个功能：新增底图和替换底图，它们两者的区别就是前者添加底图时不会删除以前的底图，而是覆盖它们，后者会删除原本的底图

![xxx](../static/gif/PixPin_2024-11-11_23-33-23.gif)

</details>

## 下一周的工作计划

1. 这个周没能添加`按属性查询`功能，因为我的属性表里面的东西我都转换成了字符串了，查询的话只能以输入文字的方式进行，但是很多时候，数据有很多种类型，比如数字，很多时候我们并不想输入数字来查询，而是指定一个范围（大于多少，小于多少），查询在这个范围中的数据。而且还有日期类型，经纬度类型的数据，这些都需要不同的过滤手段。目前还在想办法中。
2. 修复 bugs，在整个项目中，有很多添加图层的方法，当添加的图层的名称已经存在于图层管理器中就会出现 bug，目前只是加了一点判断，如果名称冲突，就忽略这个添加图层的操作，这只是权宜之计。需要增加错误提示功能。
3. 优化组件，不同的状态需要从组件的样式反应出来。
